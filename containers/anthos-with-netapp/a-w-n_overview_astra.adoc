---
sidebar: sidebar 
permalink: containers/anthos-with-netapp/a-w-n_overview_astra.html 
keywords: NetApp Astra Control, Astra Control Center, Application, Trident, Astra Trident, Helm, Operator, ONTAP, OpenShift, Kubernetes, Red Hat OpenShift 
summary: NetApp Astra 控制中心为有状态 Kubernetes 工作负载提供了一组丰富的存储和应用程序感知型数据管理服务，这些服务部署在内部环境中，并采用 NetApp 值得信赖的数据保护技术。 
---
= NetApp Astra 控制中心概述
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../../media/


[role="lead"]
NetApp Astra 控制中心为部署在内部环境中并采用 NetApp 数据保护技术的有状态 Kubernetes 工作负载提供丰富的存储和应用程序感知型数据管理服务。

image:redhat_openshift_image44.png["错误：缺少图形映像"]

NetApp Astra 控制中心可以安装在 Red Hat OpenShift 集群上，该集群已部署 Astra Trident 存储编排程序并为其配置存储类和存储后端到 NetApp ONTAP 存储系统。

有关安装和配置 Astra Trident 以支持 Astra 控制中心的信息，请参见 link:rh-os-n_overview_trident.html["本文档"^]。

在云互联环境中， Astra 控制中心使用 Cloud Insights 提供高级监控和遥测功能。在没有Cloud Insights 连接的情况下、可以使用有限的监控和遥测(7天的指标)、并通过开放式指标端点导出到Kubernetes原生 监控工具(Prometheus和Grafana)。

Astra 控制中心完全集成到 NetApp AutoSupport 和 Active IQ 生态系统中，可为用户提供支持，协助进行故障排除以及显示使用情况统计信息。

除了已付费版本的 Astra 控制中心之外，还提供 90 天评估许可证。评估版可通过电子邮件和社区Slack渠道获得支持。客户可以访问这些资源、其他知识库文章以及产品支持信息板上提供的文档。

要开始使用 NetApp Astra 控制中心，请访问 link:https://cloud.netapp.com/astra["Astra 网站"^]。



== 安装 Astra 控制中心的前提条件

. 一个或多个 Red Hat OpenShift 集群。目前支持版本 4.6 EUS 和 4.7 。
. 必须已在每个 Red Hat OpenShift 集群上安装和配置 Astra Trident 。
. 运行 ONTAP 9.5 或更高版本的一个或多个 NetApp ONTAP 存储系统。
+

NOTE: 最佳做法是、每个OpenShift安装在一个站点上都要有一个专用的SVM用于永久性存储。多站点部署需要额外的存储系统。

. 必须在每个 OpenShift 集群上配置一个 Trident 存储后端，其中包含一个由 ONTAP 集群提供支持的 SVM 。
. 在每个 OpenShift 集群上配置的默认 StorageClass ，其中使用 Astra Trident 作为存储配置程序。
. 必须在每个 OpenShift 集群上安装和配置负载平衡器，以实现负载平衡并公开 OpenShift 服务。
+

NOTE: 请参见链接 link:rh-os-n_load_balancers.html["此处"] 有关已为此目的验证的负载平衡器的信息。

. 必须配置私有映像注册表以托管 NetApp Astra Control Center 映像。
+

NOTE: 请参见链接 link:rh-os-n_private_registry.html["此处"] 为此安装和配置 OpenShift 专用注册表。

. 您必须对 Red Hat OpenShift 集群具有集群管理员访问权限。
. 您必须对 NetApp ONTAP 集群具有管理员访问权限。
. 一个管理工作站，其中安装了 Docker 或 podman ， tridentctl 以及 oc 或 kubectl 工具，并将其添加到 $path 中。
+

NOTE: Docker安装的Docker版本必须大于20.10、而Podman安装的Podman版本必须大于3.0。





== 安装 Astra 控制中心

[role="tabbed-block"]
====
.使用 OperatorHub
--
在<stdin>中未解析的指令-包括：containers /RH-OS-n_overview_Astra_cc_install_manual.adoc]]

--
.自动化的〔可逆〕
--
在<stdin>中未解析的指令-包括：containers /RH-OS-n_overview_Astra_cc_install_Ansible .adoc]]

--
====


=== 安装后步骤

. 完成安装可能需要几分钟时间。验证 `NetApp-Astra-cc` 命名空间中的所有 Pod 和服务是否均已启动且正在运行。
+
[listing]
----
[netapp-user@rhel7 ~]$ oc get all -n netapp-astra-cc
----
. 检查`Acc-operator-controller-manager`日志以验证安装是否已完成。
+
[listing]
----
[netapp-user@rhel7 ~]$ oc logs deploy/acc-operator-controller-manager -n netapp-acc-operator -c manager -f
----
+

NOTE: 以下消息指示 Astra 控制中心已成功安装。

+
[listing]
----
{"level":"info","ts":1624054318.029971,"logger":"controllers.AstraControlCenter","msg":"Successfully Reconciled AstraControlCenter in [seconds]s","AstraControlCenter":"netapp-astra-cc/astra","ae.Version":"[21.12.60]"}
----
. 用于登录到 Astra 控制中心的用户名是 CRD 文件中提供的管理员电子邮件地址，密码是附加到 Astra 控制中心 UUID 的字符串 `Acc-` 。运行以下命令：
+
[listing]
----
[netapp-user@rhel7 ~]$ oc get astracontrolcenters -n netapp-astra-cc
NAME    UUID
astra   345c55a5-bf2e-21f0-84b8-b6f2bce5e95f
----
+

NOTE: 在此示例中，密码为 `Acc-345c55a5-bf2e-21f0-84b8-b6f2bce5e95f` 。

. 获取 traefik 服务负载平衡器 IP 。
+
[listing]
----
[netapp-user@rhel7 ~]$ oc get svc -n netapp-astra-cc | egrep 'EXTERNAL|traefik'

NAME                                       TYPE           CLUSTER-IP       EXTERNAL-IP     PORT(S)                                                                   AGE
traefik                                    LoadBalancer   172.30.99.142    10.61.186.181   80:30343/TCP,443:30060/TCP                                                16m
----
. 在 DNS 服务器中添加一个条目，将 Astra 控制中心 CRD 文件中提供的 FQDN 指向 traefik 服务的 `external-IP` 。
+
image:redhat_openshift_image122.jpg["为 Accc 图形用户界面添加 DNS 条目"]

. 通过浏览 Astra 控制中心的 FQDN 登录到该 GUI 。
+
image:redhat_openshift_image87.jpg["Astra 控制中心登录"]

. 首次使用CRD中提供的管理员电子邮件地址登录到Astra控制中心图形用户界面时、应更改密码。
+
image:redhat_openshift_image88.jpg["Astra 控制中心强制更改密码"]

. 如果要将用户添加到 Astra 控制中心，请导航到 Account > Users ，单击 Add ，输入用户的详细信息，然后单击 Add 。
+
image:redhat_openshift_image89.jpg["Astra 控制中心创建用户"]

. 要使 Astra 控制中心的所有功能正常运行，需要获得许可证。要添加许可证，请导航到 " 帐户 ">" 许可证 " ，单击 " 添加许可证 " ，然后上传许可证文件。
+
image:redhat_openshift_image90.jpg["Astra Control Center 添加许可证"]

+

NOTE: 如果您在安装或配置 NetApp Astra 控制中心时遇到问题，可以参考已知问题的知识库 https://kb.netapp.com/Advice_and_Troubleshooting/Cloud_Services/Astra["此处"]。



link:rh-os-n_astra_register.html["接下来：注册Red Hat OpenShift集群。"]
