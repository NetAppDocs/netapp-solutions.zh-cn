---
sidebar: sidebar 
permalink: automation/deploy_mellanox_cli.html 
summary: 借助 NetApp 解决方案自动化，客户可以自动部署，配置和执行许多常见的基础架构和应用程序任务。 
keywords: netapp, mellanox, solutions, automation, ansible 
---
= NetApp 解决方案自动化
:hardbreaks:
:nofooter: 
:icons: font
:linkattrs: 
:table-stripes: odd
:imagesdir: ./media/




=== 操作步骤

要通过命令行界面使用 Ansible 攻略手册配置 Mellanox 交换机，请遵循以下操作步骤：

. 下载 Mellanox Onyx Ansible 资料集
+
[source, cli]
----
ansible-galaxy collection install -r collections/requirements.yml --force
----
. 下载配置 Mellanox 交换机所需的 Ansible 内容
+
[source, cli]
----
git clone https://bitbucket.ngage.netapp.com/scm/ns-bb/na_with_mellanox.git
----
. 将目录更改为所需的解决方案
+
[source, cli]
----
cd na_with_mellanox/solutions/nar_hci_mellanox_deploy
----
. 根据提供的建议 / 建议填充以下变量。根据要求填充所有变量后，单击顶部的 " 复制 " 按钮复制内容。



. 在当前目录（与攻略手册目录相同的目录）中创建一个新的变量文件（ yml 文件），然后将复制的变量粘贴到该文件中并保存。
. 填写下面 Mellanox 交换机的 IP 地址 / 主机名并复制内容。打开 hosts 文件，清除现有的所有信息并将复制的内容粘贴到其中。



. 通过传递变量文件和 Mellanox 交换机用户名来运行攻略手册。出现提示时，填写 Mellanox 交换机的密码。




NOTE: 在使用上述命令运行攻略手册之前，请将 Mellanox_switch_username 替换为用于登录 Mellanox 交换机的相应用户名。
